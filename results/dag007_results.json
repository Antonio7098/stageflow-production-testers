{
  "test_suite": "DAG-007",
  "target": "Dynamic DAG modification during execution",
  "priority": "P2",
  "risk": "Moderate",
  "tests": {
    "baseline": {
      "test_type": "baseline",
      "success": true,
      "total_stages": 5,
      "executed_stages": 5,
      "execution_time_ms": 226.0043999995105,
      "results": {
        "stage_1": {
          "stage_id": 1,
          "execution_time_ms": 42.878300009761006,
          "executed": true,
          "order": 0
        },
        "stage_2": {
          "stage_id": 2,
          "execution_time_ms": 44.524500030092895,
          "executed": true,
          "order": 0
        },
        "stage_3": {
          "stage_id": 3,
          "execution_time_ms": 59.04169997666031,
          "executed": true,
          "order": 0
        },
        "stage_4": {
          "stage_id": 4,
          "execution_time_ms": 45.09799997322261,
          "executed": true,
          "order": 0
        },
        "stage_5": {
          "stage_id": 5,
          "execution_time_ms": 29.677600017748773,
          "executed": true,
          "order": 0
        }
      }
    },
    "modification_baseline": {
      "test_type": "modification_during_execution",
      "config": {
        "num_stages": 5,
        "modifications": [],
        "expected_outcome": "success"
      },
      "success": true,
      "execution_time_ms": 193.82840004982427,
      "modification_stats": {
        "total_modifications": 1,
        "failed_modifications": 0,
        "success_rate": 100.0,
        "current_state": {
          "dynamic_stage_a076a06a": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "added_by": "stage_1"
            },
            "status": "pending"
          }
        },
        "history_length": 1
      },
      "results": {
        "stage_1": {
          "stage_id": 1,
          "execution_time_ms": 42.22240002127364,
          "executed": true,
          "order": 0
        },
        "stage_2": {
          "stage_id": 2,
          "execution_time_ms": 29.180999961681664,
          "executed": true,
          "order": 0
        },
        "stage_3": {
          "stage_id": 3,
          "execution_time_ms": 43.70570002356544,
          "executed": true,
          "order": 0
        },
        "stage_4": {
          "stage_id": 4,
          "execution_time_ms": 43.842899962328374,
          "executed": true,
          "order": 0
        },
        "stage_5": {
          "stage_id": 5,
          "execution_time_ms": 29.307099990546703,
          "executed": true,
          "order": 0
        }
      }
    },
    "modification_simple_add": {
      "test_type": "modification_during_execution",
      "config": {
        "num_stages": 3,
        "modifications": [
          {
            "type": "add",
            "stage": "dynamic_stage",
            "deps": [
              "stage_1"
            ]
          }
        ],
        "expected_outcome": "success"
      },
      "success": true,
      "execution_time_ms": 104.0008999989368,
      "modification_stats": {
        "total_modifications": 1,
        "failed_modifications": 0,
        "success_rate": 100.0,
        "current_state": {
          "dynamic_stage_fbdf523f": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "added_by": "stage_1"
            },
            "status": "pending"
          }
        },
        "history_length": 1
      },
      "results": {
        "stage_1": {
          "stage_id": 1,
          "execution_time_ms": 27.763099991716444,
          "executed": true,
          "order": 0
        },
        "stage_2": {
          "stage_id": 2,
          "execution_time_ms": 29.088700015563518,
          "executed": true,
          "order": 0
        },
        "stage_3": {
          "stage_id": 3,
          "execution_time_ms": 43.293400027323514,
          "executed": true,
          "order": 0
        }
      }
    },
    "modification_parallel_add": {
      "test_type": "modification_during_execution",
      "config": {
        "num_stages": 3,
        "modifications": [
          {
            "type": "add",
            "stage": "dynamic_1",
            "deps": [
              "stage_1"
            ]
          },
          {
            "type": "add",
            "stage": "dynamic_2",
            "deps": [
              "stage_2"
            ]
          }
        ],
        "expected_outcome": "success"
      },
      "success": true,
      "execution_time_ms": 104.63449999224395,
      "modification_stats": {
        "total_modifications": 1,
        "failed_modifications": 0,
        "success_rate": 100.0,
        "current_state": {
          "dynamic_stage_0fef0aec": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "added_by": "stage_1"
            },
            "status": "pending"
          }
        },
        "history_length": 1
      },
      "results": {
        "stage_1": {
          "stage_id": 1,
          "execution_time_ms": 28.483500005677342,
          "executed": true,
          "order": 0
        },
        "stage_2": {
          "stage_id": 2,
          "execution_time_ms": 27.953100041486323,
          "executed": true,
          "order": 0
        },
        "stage_3": {
          "stage_id": 3,
          "execution_time_ms": 44.428199995309114,
          "executed": true,
          "order": 0
        }
      }
    },
    "pipeline_replacement": {
      "test_type": "pipeline_replacement",
      "success": true,
      "execution_time_ms": 224.21359998406842,
      "replacement_attempted": true,
      "replacement_result": {
        "success": true,
        "error": null
      },
      "modification_stats": {
        "total_modifications": 1,
        "failed_modifications": 0,
        "success_rate": 100.0,
        "current_state": {
          "replaced_stage": {
            "dependencies": [],
            "config": {}
          }
        },
        "history_length": 1
      },
      "results": {
        "stage_1": {
          "stage_id": 1,
          "execution_time_ms": 57.42000002646819,
          "executed": true,
          "order": 0
        },
        "stage_2": {
          "stage_id": 2,
          "execution_time_ms": 44.07799994805828,
          "executed": true,
          "order": 0
        },
        "stage_3": {
          "stage_id": 3,
          "execution_time_ms": 29.16860004188493,
          "executed": true,
          "order": 0
        },
        "stage_4": {
          "stage_id": 4,
          "execution_time_ms": 29.108200047630817,
          "executed": true,
          "order": 0
        },
        "stage_5": {
          "stage_id": 5,
          "execution_time_ms": 59.19839994749054,
          "executed": true,
          "order": 0
        }
      }
    },
    "cycle_detection": {
      "test_type": "cycle_detection",
      "success": true,
      "cycle_detection_tests": {
        "simple_cycle_detected": true,
        "cycle_path": [
          "stage_1",
          "stage_2",
          "stage_3",
          "stage_1"
        ],
        "would_create_cycle": true,
        "would_cycle_path": [
          "stage_1",
          "stage_3",
          "stage_2",
          "stage_1"
        ],
        "valid_dag_no_cycle": true
      }
    },
    "conditional_pipeline": {
      "test_type": "conditional_pipeline",
      "success": true,
      "note": "Conditional stages work as documented"
    },
    "concurrent_modifications": {
      "test_type": "concurrent_modifications",
      "concurrent_attempts": 10,
      "successful": 10,
      "failed": 0,
      "exceptions": [],
      "execution_time_ms": 0.4126999992877245,
      "modification_stats": {
        "total_modifications": 10,
        "failed_modifications": 0,
        "success_rate": 100.0,
        "current_state": {
          "concurrent_stage_0": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 0
            },
            "status": "pending"
          },
          "concurrent_stage_1": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 1
            },
            "status": "pending"
          },
          "concurrent_stage_2": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 2
            },
            "status": "pending"
          },
          "concurrent_stage_3": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 3
            },
            "status": "pending"
          },
          "concurrent_stage_4": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 4
            },
            "status": "pending"
          },
          "concurrent_stage_5": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 5
            },
            "status": "pending"
          },
          "concurrent_stage_6": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 6
            },
            "status": "pending"
          },
          "concurrent_stage_7": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 7
            },
            "status": "pending"
          },
          "concurrent_stage_8": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 8
            },
            "status": "pending"
          },
          "concurrent_stage_9": {
            "dependencies": [
              "stage_1"
            ],
            "config": {
              "concurrent_index": 9
            },
            "status": "pending"
          }
        },
        "history_length": 10
      }
    },
    "invalid_modifications": {
      "test_type": "invalid_modifications",
      "results": [
        {
          "name": "duplicate_stage",
          "success": false,
          "error": "'coroutine' object has no attribute 'success'",
          "exception": true,
          "expected_error": true
        },
        {
          "name": "missing_dependency",
          "success": false,
          "error": "'coroutine' object has no attribute 'success'",
          "exception": true,
          "expected_error": true
        },
        {
          "name": "valid_addition",
          "success": false,
          "error": "'coroutine' object has no attribute 'success'",
          "exception": true,
          "expected_error": false
        }
      ],
      "all_correctly_handled": true
    }
  },
  "summary": {
    "total_tests": 9,
    "passed": 7,
    "failed": 2,
    "pass_rate": 77.77777777777779
  },
  "run_id": "ccb3e1d8-c4d0-4e66-8262-096a0bbf5398",
  "started_at": "2026-01-19T11:36:14.128277",
  "duration_seconds": 0.8746549999923445,
  "findings": [
    {
      "type": "strength",
      "title": "Baseline pipeline execution works correctly",
      "description": "Static pipelines without modification execute as expected",
      "component": "Pipeline",
      "evidence": "Executed 5 stages successfully"
    },
    {
      "type": "strength",
      "title": "modification_baseline - Dynamic modification functional",
      "description": "Pipeline supports dynamic modification during execution",
      "component": "StageGraph",
      "evidence": "Modifications: 1, Success rate: 100.0%"
    },
    {
      "type": "strength",
      "title": "modification_simple_add - Dynamic modification functional",
      "description": "Pipeline supports dynamic modification during execution",
      "component": "StageGraph",
      "evidence": "Modifications: 1, Success rate: 100.0%"
    },
    {
      "type": "strength",
      "title": "modification_parallel_add - Dynamic modification functional",
      "description": "Pipeline supports dynamic modification during execution",
      "component": "StageGraph",
      "evidence": "Modifications: 1, Success rate: 100.0%"
    },
    {
      "type": "finding",
      "title": "concurrent_modifications - Dynamic modification has issues",
      "description": "Unknown error",
      "component": "StageGraph",
      "severity": "medium",
      "error_type": null
    },
    {
      "type": "finding",
      "title": "invalid_modifications - Dynamic modification has issues",
      "description": "Unknown error",
      "component": "StageGraph",
      "severity": "medium",
      "error_type": null
    },
    {
      "type": "dx",
      "title": "Pipeline replacement attempts are handled gracefully",
      "description": "Replacement attempts during execution do not crash the pipeline",
      "component": "PipelineRegistry",
      "category": "error_messages",
      "severity": "low"
    },
    {
      "type": "strength",
      "title": "Cycle detection utilities work correctly",
      "description": "Helper functions properly detect potential cycles",
      "component": "Utilities",
      "evidence": "{'simple_cycle_detected': True, 'cycle_path': ['stage_1', 'stage_2', 'stage_3', 'stage_1'], 'would_create_cycle': True, 'would_cycle_path': ['stage_1', 'stage_3', 'stage_2', 'stage_1'], 'valid_dag_no_cycle': True}"
    },
    {
      "type": "strength",
      "title": "Concurrent modification attempts handled",
      "description": "Successfully processed 10 concurrent modifications",
      "component": "MockDAGModifier",
      "evidence": "Failed: 0, Time: 0.4ms"
    },
    {
      "type": "strength",
      "title": "Invalid modification errors handled correctly",
      "description": "Error handling for invalid modifications works as expected",
      "component": "MockDAGModifier"
    }
  ]
}